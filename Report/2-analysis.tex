\chapter{ Аналитический раздел }

\section{Существующий системы автоматического тестирования}

\section{Базы данных}
Согласно концепции баз данных, основой информационных технологий являются данные, которые должны быть организованы в базы данных в целях адекватного отображения изменяющегося реального мира и удовлетворения информационных потребностей пользователей. Одним из важнейших понятий в теории баз данных является понятие информации. Информация - это любые сведения о каком-либо событии, процессе, объекте. К информации может относиться все, что может интересовать пользователя любого уровня.

Данные -- это информация, представленная в определенном виде, позволяющем автоматизировать её сбор, хранение и дальнейшую обработку человеком или информационным средством. Для компьютерных технологий данные -- это информация в дискретном, фиксированном виде, удобная для хранения, обработки на ЭВМ, а также для передачи по каналам связи. 

База данных (БД) - именованная совокупность данных, отражающая состояние объектов и их отношений в рассматриваемой предметной области, иными словами БД - это совокупность взаимосвязанных данных при такой минимальной избыточности, которая допускает их использование оптимальным образом для одного или нескольких приложений в определенной предметной области.

Важнейшие свойства баз данных:
\begin{itemize}
\item Целостность. В каждый момент времени существования БД сведения, содержащиеся в ней, должны быть непротиворечивы. Например, необходимо отслеживать диапазон допустимых значений, соотношения между значениями в полях, особенности написания формата. Существуют ограничения, работающие только при удалении записей. Например, нельзя удалять запись, связанную с другой неудаляемой записью.
\item Восстанавливаемость предполагает возможность восстановления БД после сбоя системы или отдельных видов порчи системы. Сюда относится проверка наличия файлов, составляющих приложение. В основном свойство восстанавливаемости обеспечивается дублированием БД и использованием техники повышенной надежности.
\item Безопасность БД предполагает защиту данных от преднамеренного и непреднамеренного доступа, модификации или разрушения. Применяется запрещение несанкционированного доступа, защита от копирования и криптографическая защита. Также необходимы и чисто административные меры, например ограничение доступа к носителям информации. 
\item Эффективность обычно понимается как:
\begin{itemize}
\item  минимальное время реакции на запрос пользователя;
\item  минимальные потребности в памяти;
\item  сочетание этих параметров.
\end{itemize}
\item Предельные размеры и эксплуатационные ограничения, накладываемые использованием данной БД, могут существенно повлиять на проектное решение.
\end{itemize}
Создание баз данных, поддержка их в целостном, непротиворечивом состоянии, обеспечение безопасности их использования и сохранности информации вплоть до восстановления её после различных сбоев, предоставление различных информационных услуг пользователям и многое другое обеспечивается СУБД.

Термин СУБД включает в себя довольно большое количество сильно отличающихся друг от друга инструментов для работы с базами данных (отдельные программы и подключаемые библиотеки). Так как данные бывают различных видов и типов, начиная со второй половины 20 века было разработано огромное количество разных СУБД и других приложений для работы с БД.

СУБД основываются на модели базы данных - это специальные структуры предназначенные для работы с данными. Все СУБД сильно отличаются в том, каким образом они хранят и обрабатывают свои данные.

В модели данных различают три главные составляющие:
\begin{itemize}
	\item структурная часть, определяющая правила порождения допустимых для данной СУБД видов структур данных.
	\item управляющая часть, определяющая возможные операции над такими структурами.
	\item классы ограничений целостности данных, которые могут быть реализованы средствами этой системы.
\end{itemize}


Каждая система поддерживает различные модели и структуры баз данных. Эта модель и определяет, как создаваемая СУБД будет оперировать данными. Существует довольно немного моделей БД, которые предоставляют способы четкого структурирования данных, самая популярная из таких моделей - реляционная модель.
Реляционная модель и реляционные БД могут быть очень мощным инструментом, но только если программист знает как с ними обращаться. Недавно, стали набирать популярность NoSQL системы с обещанием избавиться от старых проблем БД и добавить новый функционал. Исключая жесткую структуру данных, при этом сохранив реляционный стиль, эти СУБД предлагают более свободный способ работы с ними и гораздо большие возможности для их настройки. Хотя не обходится и без возникновения новых проблем.

\subsection{Реляционная модель}
Реляционный (SQL) подход обозначает определенную идеологию создания баз данных.

Во-первых, БД представляется на внешнем, не зависящем от структуры ЭВМ уровне в виде совокупности двумерных таблиц, повседневно встречающихся в человеческой практике. Работа с таблицами привычна и понятна каждому пользователю. Поиск и обработка информации, хранящейся в таблицах, не зависит от организации хранения данных в памяти ЭВМ, что значительно упрощает взаимодействие пользователя с БД и существенно повышает производительность его труда.

Во-вторых, манипулирование данными реляционной базы данных, которая с математической точки зрения представляет собой конечный набор конечных отношений. Над отношениями модели можно осуществлять различные алгебраические операции. Теория РБД как раз и определяет, какие операции и каким образом необходимо выполнять над отношениями, чтобы достичь заданной цели.

В настоящее время реляционный подход к построению информационных систем является наиболее распространенным. К числу достоинств реляционного подхода можно отнести:

\begin{itemize}
\item[1.] Наличие небольшого набора абстракций, которые позволяют сравнительно просто моделировать большую часть распространенных предметных областей и допускают точные формальные определения, оставаясь интуитивно понятными.
\item[2.] Наличие простого и в то же время мощного математического аппарата, опирающегося главным образом на теорию множеств и математическую логику и обеспечивающего теоретический базис реляционного подхода к организации БД.
\item[3.] Возможность ненавигационного манипулирования данными без необходимости знания конкретной физической организации баз данных во внешней памяти.
\end{itemize}

Благодаря десятилетиям разработки, СУБД достигли довольно высокого уровня в производительности и отказоустойчивости. Опытом разработчиков и сетевых администраторов было доказано, что все эти инструменты отлично справляются со своими функциями в приложениях любой сложности, не теряют данных даже при некорректных завершениях работы.

Несмотря на большие ограничения в формировании и управлении данными, реляционные базы данных сохраняют широкие возможности по настройке и предлагают довольно большой функционал.

Реляционные базы данных хранят структурированные данные. Это могут быть сведения о человеке, или о поставщиках и поставках, сгруппированные в таблицах, которые были заранее спроектированы.

Причины использовать SQL следующие:
\begin{itemize}
	\item Необходимость соответствия базы данных требованиям ACID (Atomicity, Consistency, Isolation, Durability -- атомарность, непротиворечивость, изолированность, долговечность). Это позволяет уменьшить вероятность неожиданного поведения системы и обеспечить целостность базы данных. Достигается подобное путём жёсткого определения того, как именно транзакции взаимодействуют с базой данных. Это отличается от подхода, используемого в NoSQL-базах, которые ставят во главу угла гибкость и скорость, а не 100\% целостность данных.
	
	\item Данные, с которыми выполняется работа, структурированы, при этом структура не подвержена частым изменением. Если организация не находится в стадии экспоненциального роста, вероятно, не найдётся убедительных причин использовать базу данных, которая позволяет достаточно вольно обращаться с типами данных и нацелена на обработку огромных объёмов информации.
\end{itemize}


\subsection{Нереляционная модель}
Нереляционные (NoSQL) базы данных устроены иначе, чем реляционные.  Cпособ структуризации данных заключается в избавлении от ограничений при хранении и использовании информации. Базы данных NoSQL, используя неструктуризированный подход, предлагают много эффективных способов обработки данных в отдельных случаях (например, при работе с хранилищем текстовых документов). Например, документоориентированные базы хранят информацию в виде иерархических структур данных. Речь может идти об объектах с произвольным набором атрибутов. То, что в реляционной БД будет разбито на несколько взаимосвязанных таблиц, в нереляционной может храниться в виде целостной сущности.

NoSQL базы данных не используют общий формат запроса (как SQL в реляционных базах данных). Каждое решение использует собственную систему запросов.

NoSQL следует использовать в следующих случаях:
\begin{itemize}
	\item Хранение больших объёмов неструктурированной информации. База данных NoSQL не накладывает ограничений на типы хранимых данных. Более того, при необходимости в процессе работы можно добавлять новые типы данных.
	
	\item Использование облачных вычислений и хранилищ. Облачные хранилища — отличное решение, но они требуют, чтобы данные можно было легко распределить между несколькими серверами для обеспечения масштабирования. Использование, для тестирования и разработки, локального оборудования, а затем перенос системы в облако, где она и работает — это именно то, для чего созданы NoSQL базы данных.
	
	\item Быстрая разработка. Если вы разрабатываете систему, используя agile-методы, применение реляционной БД способно замедлить работу. NoSQL базы данных не нуждаются в том же объёме подготовительных действий, которые обычно нужны для реляционных баз.
\end{itemize}

\paragraph{Документоориентированная база данных.}
Документоориентированная база данных предназначена для хранения иерархических структур данных (документов) и обычно реализуемая с помощью подхода NoSQL. В основе документоориентированных баз данных лежат документные хранилища, имеющие структуру дерева (иногда леса). 

Документы могут быть организованы в коллекции. Их можно считать отдалённым аналогом таблиц реляционных СУБД, но коллекции могут содержать другие коллекции. Хотя документы коллекции могут быть произвольными, для более эффективного индексирования лучше объединять в коллекцию документы с похожей структурой

\subsection{Сравнение моделей}
\begin{table}[]
	\centering
	\caption{Сравнение моделей}
	\label{cmp}
	\begin{tabular}{|l|l|}
		\hline
		SQL                                                                                                                                                                                        & NoSQL                                                                                                                          \\ \hline
		\multicolumn{2}{|c|}{\textbf{Структура и тип хранящихся данных}}                                                                                                                                                                                                                                                            \\ \hline
		\begin{tabular}[c]{@{}l@{}}Требуется наличие однозначно \\ определенной структуры \\ хранения данных\end{tabular}                                                                          & Нет ограничений на структуру данных                                                                                            \\ \hline
		\multicolumn{2}{|c|}{\textbf{Запросы}}                                                                                                                                                                                                                                                                                      \\ \hline
		\begin{tabular}[c]{@{}l@{}}Вне зависимости от лицензии, РСУБД \\ реализуют SQL-стандарты, поэтому \\ из них можно получать данные \\ при помощи языка SQL.\end{tabular}                    & \begin{tabular}[c]{@{}l@{}}Каждая NoSQL база данных реализует \\ свой способ работы с данными.\end{tabular}                    \\ \hline
		\multicolumn{2}{|c|}{\textbf{Масштабируемость}}                                                                                                                                                                                                                                                                             \\ \hline
		\multicolumn{2}{|l|}{\begin{tabular}[c]{@{}l@{}}Вертикальное масштабирование выполняется за счет увеличения числа \\ системных ресурсов.  NoSQL обычно предоставляют более простые \\ способы горизонтального масштабирования.\end{tabular}}                                                                                \\ \hline
		\multicolumn{2}{|c|}{\textbf{Надежность}}                                                                                                                                                                                                                                                                                   \\ \hline
		\multicolumn{2}{|l|}{SQL базы данных намного надежнее NoSQL решений.}                                                                                                                                                                                                                                                       \\ \hline
		\multicolumn{2}{|c|}{\textbf{Поддержка}}                                                                                                                                                                                                                                                                                    \\ \hline
		\multicolumn{2}{|l|}{\begin{tabular}[c]{@{}l@{}}РСУБД имеют очень долгую историю. Они очень популярны, и \\ поэтому получить поддержку,  платную или нет, очень легко. \\ Поэтому, при необходимости, решить проблемы с ними гораздо\\ проще, чем с NoSQL, особенно если проблема сложна по \\ своей природе.\end{tabular}} \\ \hline
	\end{tabular}
\end{table}

\section{ Описание предметной области }

Была поставлена задача разработки веб-приложения, позволяющего создавать и проходить тесты. Необходимо реализовать регистрацию пользователя, возможность изменения личной информации. Обязательной информацией является электронная почта, пароль и юзернейм. Необязательная информация -- это имя, фамилия, дата рождения и пол.

Необходимо реализовать возможность создания новых тесты, и удаление ранее созданных пользователем тестов. При создании нового теста требуется указывать название, описание. Необходима возможность редактирования списка вопросов.

Должна быть реализована возможность прохождение теста пользователем, просмотр ранее пройденных тестов, и поиск тестов для прохождения. Один и тот же тест может быть пройдет более одного раза. Информация о всех попытках должна быть сохранена.

Каждый вопрос теста, представляет собой задание и несколько вариантов ответа.

Результатом выполнения задания является веб-приложение.

%\section{Определение требований к структуре базы данных}


%\subsection{Определение целей создания системы}
%Исходя из анализа предметной области, можно сформулировать следующие цели создания системы:
%\begin{enumerate}
%	\item хранить все созданные тесты и информацию о пользователях;
%	\item хранить информацию о пройденных пользователем тестов;
%	\item дать возможность пользователю создавать, удалять и проходить тесты, изменять личную информацию.
%\end{enumerate}

\subsection{Определение бизнес-правил }
База данных должна соответствовать следующим бизнес-правилам:
\begin{itemize}
	\item обязательной информацией о пользователе является логин, электронная почта, пароль;
	\item необязательная информация о пользователе это имя, фамилия, пол, дата рождения, аватар;
	\item логин и электронная почта для каждого пользователя должны быть уникальны;
	\item логин не может быть пустым;
	\item электронная почта должна быть валидной;
	\item пароль должен содержать не менее 8 символов;
	\item пароль хранится в зашифрованном виде;
	\item аватар представляет собой путь до графического изображения;
	\item пол принимает одно из следующих значений: не указано, мужской, женский;
	\item пользователь должен иметь возможность изменения своих личных данных;
	\item информация о каждом пройденном тесте должна быть сохранена;
	\item пользователь может создавать новые тесты и удалять собственные тесты;
	\item сведения о тесте должны содержать имя, описание до 200 символов, и список вопросов;
	\item каждый тест должен содержать не менее 1 вопроса;
	\item результат теста может быть получен, если есть ответ на каждый вопрос;
	\item каждый вопрос содержит от 1 до 6 вариантов ответа.
\end{itemize}

